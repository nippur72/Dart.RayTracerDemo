if(typeof global==="undefined")if(typeof window!=="undefined")global=window;else if(typeof self!=="undefined")global=self;(function(k){"use strict";var a={__assemblies:{}};a.initAssembly=function(b,d,c){c=c||{};b.name=d;b.toString=function(){return this.name};b.__types={};b.getResourceNames=function(){return Object.keys(c)};b.getResourceDataBase64=function(a){return c[a]||null};b.getResourceData=function(d){var b=c[d];return b?a.dec64(b):null};a.__assemblies[d]=b};a.initAssembly(a,"mscorlib");a.load=function(b){return a.__assemblies[b]||require(b)};var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D;a.enc64=function(b,g){for(var f="",a=0;a<b.length;a+=3){var c=b[a],d=b[a+1],e=b[a+2];f+=(g&&a&&!(a%57)?"\n":"")+I[c>>2]+I[(c&3)<<4|d>>4]+(a<b.length-1?I[(d&15)<<2|e>>6]:"=")+(a<b.length-2?I[e&63]:"=")}return f};a.dec64=function(a){a=a.replace(/\s/g,"");D=D||function(){for(var b={"=":-1},a=0;a<64;a++)b[I[a]]=a;return b}();for(var c=Array(Math.max(a.length*3/4-2,0)),b=0;b<a.length;b+=4){var e=b*3/4,h=D[a[b]],f=D[a[b+1]],d=D[a[b+2]],g=D[a[b+3]];c[e]=h<<2|f>>4;if(d>=0)c[e+1]=(f&15)<<4|d>>2;if(g>=0)c[e+2]=(d&3)<<6|g}return c};a.getAssemblies=function(){return Object.keys(a.__assemblies).map(function(b){return a.__assemblies[b]})};a.isNullOrUndefined=function(a){return a===null||a===undefined};a.isValue=function(a){return a!==null&&a!==undefined};a.referenceEquals=function(b,c){return a.isValue(b)?b===c:!a.isValue(c)};a.mkdict=function(){for(var b=arguments.length!=1?arguments:arguments[0],c={},a=0;a<b.length;a+=2)c[b[a]]=b[a+1];return c};a.coalesce=function(b,c){return a.isValue(b)?b:c};a.isDate=function(a){return Object.prototype.toString.call(a)==="[object Date]"};a.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"};a.isTypedArrayType=function(b){return["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Uint8ClampedArray"].indexOf(a.getTypeFullName(b))>=0};a.isArrayOrTypedArray=function(b){return a.isArray(b)||a.isTypedArrayType(a.getInstanceType(b))};a.getHashCode=function(b){if(!a.isValue(b))throw new p("Cannot get hash code of null");else if(typeof b.getHashCode==="function")return b.getHashCode();else if(typeof b==="boolean")return b?1:0;else if(typeof b==="number"){var c=b.toExponential();c=c.substr(0,c.indexOf("e"));return parseInt(c.replace(".",""),10)&4294967295}else if(typeof b==="string"){for(var d=0,e=0;e<b.length;e++)d=d*31+b.charCodeAt(e)&4294967295;return d}else return a.isDate(b)?b.valueOf()&4294967295:a.defaultHashCode(b)};a.defaultHashCode=function(a){return a.$__hashCode__||(a.$__hashCode__=Math.random()*4294967296|0)};a.equals=function(b,c){if(!a.isValue(b))throw new p("Object is null");else if(b!==a&&typeof b.equals==="function")return b.equals(c);return a.isDate(b)&&a.isDate(c)?b.valueOf()===c.valueOf():typeof b==="function"&&typeof c==="function"?a.delegateEquals(b,c):a.isNullOrUndefined(b)&&a.isNullOrUndefined(c)?true:b===c};a.compare=function(b,c){if(!a.isValue(b))throw new p("Object is null");else return typeof b==="number"||typeof b==="string"||typeof b==="boolean"?b<c?-1:b>c?1:0:a.isDate(b)?a.compare(b.valueOf(),c.valueOf()):b.compareTo(c)};a.equalsT=function(b,c){if(!a.isValue(b))throw new p("Object is null");else return typeof b==="number"||typeof b==="string"||typeof b==="boolean"?b===c:a.isDate(b)?b.valueOf()===c.valueOf():b.equalsT(c)};a.staticEquals=function(c,b){return!a.isValue(c)?!a.isValue(b):a.isValue(b)?a.equals(c,b):false};a.shallowCopy=function(b,e){for(var c=Object.keys(b),a=0,f=c.length;a<f;a++){var d=c[a];e[d]=b[d]}};a.isLower=function(b){var a=String.fromCharCode(b);return a===a.toLowerCase()&&a!==a.toUpperCase()};a.isUpper=function(b){var a=String.fromCharCode(b);return a!==a.toLowerCase()&&a===a.toUpperCase()};if(typeof window=="object"){if(!window.Element){window.Element=function(){};window.Element.isInstanceOfType=function(a){return a&&typeof a.constructor==="undefined"&&typeof a.tagName==="string"}}window.Element.__typeName="Element";if(!window.XMLHttpRequest)window.XMLHttpRequest=function(){for(var b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],a=0;a<b.length;a++)try{return new ActiveXObject(b[a])}catch(d){}return null};a.parseXml=function(d){try{if(DOMParser){var e=new DOMParser;return e.parseFromString(d,"text/xml")}else for(var c=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"],b=0;b<c.length;b++){var a=new ActiveXObject(c[b]);a.async=false;a.loadXML(d);a.setProperty("SelectionLanguage","XPath");return a}}catch(f){}return null}}a.clearKeys=function(a){for(var b in a)if(a.hasOwnProperty(b))delete a[b]};a.keyExists=function(b,a){return b[a]!==undefined};if(!Object.keys)Object.keys=function(){"use strict";var b=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=a.length;return function(e){if(typeof e!=="object"&&(typeof e!=="function"||e===null))throw new TypeError("Object.keys called on non-object");var g=[],h,f;for(h in e)b.call(e,h)&&g.push(h);if(d)for(f=0;f<c;f++)b.call(e,a[f])&&g.push(a[f]);return g}}();a.getKeyCount=function(a){return Object.keys(a).length};a.__genericCache={};a._makeGenericTypeName=function(e,d){for(var c=e.__typeName,b=0;b<d.length;b++)c+=(b===0?"[":",")+"["+a.getTypeQName(d[b])+"]";c+="]";return c};a.makeGenericType=function(c,b){var d=a._makeGenericTypeName(c,b);return a.__genericCache[d]||c.apply(null,b)};a.registerGenericClassInstance=function(b,c,d,h,g,f){var e=a._makeGenericTypeName(c,d);a.__genericCache[e]=b;b.__typeName=e;b.__genericTypeDefinition=c;b.__typeArguments=d;a.initClass(b,c.__assembly,h,g(),f())};a.registerGenericInterfaceInstance=function(b,c,d,g,f){var e=a._makeGenericTypeName(c,d);a.__genericCache[e]=b;b.__typeName=e;b.__genericTypeDefinition=c;b.__typeArguments=d;a.initInterface(b,c.__assembly,g,f())};a.isGenericTypeDefinition=function(a){return a.__isGenericTypeDefinition||false};a.getGenericTypeDefinition=function(a){return a.__genericTypeDefinition||null};a.getGenericParameterCount=function(a){return a.__typeArgumentCount||0};a.getGenericArguments=function(a){return a.__typeArguments||null};a.setMetadata=function(c,d){if(d.members)for(var e=0;e<d.members.length;e++){var b=d.members[e];b.typeDef=c;if(b.adder)b.adder.typeDef=c;if(b.remover)b.remover.typeDef=c;if(b.getter)b.getter.typeDef=c;if(b.setter)b.setter.typeDef=c}c.__metadata=d;if(d.variance)c.isAssignableFrom=function(c){var e=function(b,d){if(d.__genericTypeDefinition===b.__genericTypeDefinition&&d.__typeArguments.length==b.__typeArguments.length){for(var c=0;c<b.__typeArguments.length;c++){var g=b.__metadata.variance[c],f=b.__typeArguments[c],e=d.__typeArguments[c];switch(g){case 1:if(!a.isAssignableFrom(f,e))return false;break;case 2:if(!a.isAssignableFrom(e,f))return false;break;default:if(e!==f)return false}}return true}return false};if(c.__interface&&e(this,c))return true;for(var d=a.getInterfaces(c),b=0;b<d.length;b++)if(d[b]===this||e(this,d[b]))return true;return false}};a.initClass=function(b,e,g,c,d){b.__class=true;b.__assembly=e;if(!b.__typeArguments)e.__types[b.__typeName]=b;if(c&&c!==Object){var f=function(){};f.prototype=c.prototype;b.prototype=new f;b.prototype.constructor=b}a.shallowCopy(g,b.prototype);if(d)b.__interfaces=d};a.initGenericClass=function(a,b,c){a.__class=true;a.__assembly=b;b.__types[a.__typeName]=a;a.__typeArgumentCount=c;a.__isGenericTypeDefinition=true};a.initInterface=function(b,d,e,c){b.__interface=true;b.__assembly=d;if(!b.__typeArguments)d.__types[b.__typeName]=b;if(c)b.__interfaces=c;a.shallowCopy(e,b.prototype);b.isAssignableFrom=function(b){return a.contains(a.getInterfaces(b),this)}};a.initGenericInterface=function(a,b,c){a.__interface=true;a.__assembly=b;b.__types[a.__typeName]=a;a.__typeArgumentCount=c;a.__isGenericTypeDefinition=true};a.initEnum=function(b,d,e,c){b.__enum=true;b.__assembly=d;d.__types[b.__typeName]=b;a.shallowCopy(e,b.prototype);b.getDefaultValue=b.createInstance=function(){return c?null:0};b.isInstanceOfType=function(a){return typeof a==(c?"string":"number")}};a.getBaseType=function(b){if(b===Object||b.__interface)return null;else if(Object.getPrototypeOf)return Object.getPrototypeOf(b.prototype).constructor;else{var a=b.prototype;if(Object.prototype.hasOwnProperty.call(a,"constructor"))try{var c=a.constructor;delete a.constructor;return a.constructor}finally{a.constructor=c}return a.constructor}};a.getTypeFullName=function(a){return a.__typeName||a.name||(a.toString().match(/^\s*function\s*([^\s(]+)/)||[])[1]||"Object"};a.getTypeQName=function(b){return a.getTypeFullName(b)+(b.__assembly?", "+b.__assembly.name:"")};a.getTypeName=function(e){var b=a.getTypeFullName(e),d=b.indexOf("["),c=b.lastIndexOf(".",d>=0?d:b.length);return c>0?b.substr(c+1):b};a.getTypeNamespace=function(e){var b=a.getTypeFullName(e),d=b.indexOf("["),c=b.lastIndexOf(".",d>=0?d:b.length);return c>0?b.substr(0,c):""};a.getTypeAssembly=function(b){return a.contains([Date,Number,Boolean,String,Function,Array],b)?a:b.__assembly||null};a.getAssemblyType=function(b,d){var f=[];if(b.__types)return b.__types[d]||null;else{for(var e=d.split("."),c=0;c<e.length;c++){b=b[e[c]];if(!a.isValue(b))return null}return typeof b!=="function"?null:b}};a.getAssemblyTypes=function(b){var c=[];if(b.__types)for(var e in b.__types)b.__types.hasOwnProperty(e)&&c.push(b.__types[e]);else{var d=function(b,f){for(var e in b)b.hasOwnProperty(e)&&d(b[e],e);typeof b==="function"&&a.isUpper(f.charCodeAt(0))&&c.push(b)};d(b,"")}return c};a.createAssemblyInstance=function(d,c){var b=a.getAssemblyType(d,c);return b?a.createInstance(b):null};a.getInterfaces=function(b){return b.__interfaces?b.__interfaces:b===Date||b===Number?[t,r,z]:b===Boolean||b===String?[t,r]:b===Array||a.isTypedArrayType(b)?[s,A,Z]:[]};a.isInstanceOfType=function(b,c){return a.isNullOrUndefined(b)?false:typeof c.isInstanceOfType==="function"?c.isInstanceOfType(b):a.isAssignableFrom(c,a.getInstanceType(b))};a.isAssignableFrom=function(a,b){return a===b||typeof a.isAssignableFrom==="function"&&a.isAssignableFrom(b)||b.prototype instanceof a};a.isClass=function(a){return a.__class==true||a===Array||a===Function||a===RegExp||a===String||a===Error||a===Object};a.isEnum=function(a){return!!a.__enum};a.isFlags=function(a){return a.__metadata&&a.__metadata.enumFlags||false};a.isInterface=function(a){return!!a.__interface};a.safeCast=function(b,c){return c===true?b:c===false?null:a.isInstanceOfType(b,c)?b:null};a.cast=function(b,c){if(b===null||typeof b==="undefined")return b;else if(c===true||c!==false&&a.isInstanceOfType(b,c))return b;throw new O("Cannot cast object to type "+a.getTypeFullName(c));};a.getInstanceType=function(b){if(!a.isValue(b))throw new p("Cannot get type of null");try{return b.constructor}catch(c){return Object}};a.getType=function(c){if(!c)return null;var b=c.split(","),d=b.length>1?a.__assemblies[b[1].trim()]:k;return d?a.getAssemblyType(d,b[0].trim()):null};a.getDefaultValue=function(a){return typeof a.getDefaultValue==="function"?a.getDefaultValue():a===Boolean?false:a===Date?new Date(0):a===Number?0:null};a.createInstance=function(a){return typeof a.createInstance==="function"?a.createInstance():a===Boolean?false:a===Date?new Date(0):a===Number?0:a===String?"":new a};a.applyConstructor=function(a,c){var b=function(){a.apply(this,c)};b.prototype=a.prototype;return new b};a.getAttributes=function(e,h,j){var c=[];if(j){var i=a.getBaseType(e);if(i)for(var d=a.getAttributes(i,h,true),b=0;b<d.length;b++){var f=a.getInstanceType(d[b]);(!f.__metadata||!f.__metadata.attrNoInherit)&&c.push(d[b])}}if(e.__metadata&&e.__metadata.attr)for(var b=0;b<e.__metadata.attr.length;b++){var d=e.__metadata.attr[b];if(h==null||a.isInstanceOfType(d,h)){var f=a.getInstanceType(d);if(!f.__metadata||!f.__metadata.attrAllowMultiple)for(var g=c.length-1;g>=0;g--)a.isInstanceOfType(c[g],f)&&c.splice(g,1);c.push(d)}}return c};a.getMembers=function(b,k,c,h,f){var e=[];if((c&72)==72||(c&6)==4){var m=a.getBaseType(b);if(m)e=a.getMembers(m,k&~1,c&(c&64?255:247)&(c&2?251:255),h,f)}var n=function(a){if(k&a.type&&(c&4&&!a.isStatic||c&8&&a.isStatic)&&(!h||a.name===h)){if(f){if((a.params||[]).length!==f.length)return;for(var b=0;b<f.length;b++)if(f[b]!==a.params[b])return}e.push(a)}};if(b.__metadata&&b.__metadata.members)for(var d=0;d<b.__metadata.members.length;d++){var j=b.__metadata.members[d];n(j);for(var i=0;i<4;i++){var l=(["getter","setter","adder","remover"])[i];j[l]&&n(j[l])}}if(c&256){while(b){for(var g=[],d=0;d<e.length;d++)e[d].typeDef===b&&g.push(e[d]);if(g.length>1)throw new K("Ambiguous match");else if(g.length===1)return g[0];b=a.getBaseType(b)}return null}return e};a.midel=function(b,f,d){if(b.isStatic&&!!f)throw new e("Cannot specify target for static method");else if(!b.isStatic&&!f)throw new e("Must specify target for instance method");var c;if(b.fget)c=function(){return(b.isStatic?b.typeDef:this)[b.fget]};else if(b.fset)c=function(a){(b.isStatic?b.typeDef:this)[b.fset]=a};else{c=b.def||(b.isStatic||b.sm?b.typeDef[b.sname]:f[b.sname]);if(b.tpcount){if(!d||d.length!==b.tpcount)throw new e("Wrong number of type arguments");c=c.apply(null,d)}else if(d&&d.length)throw new e("Cannot specify type arguments for non-generic method");if(b.exp){var g=c;c=function(){return g.apply(this,Array.prototype.slice.call(arguments,0,arguments.length-1).concat(arguments[arguments.length-1]))}}if(b.sm){var h=c;c=function(){return h.apply(null,[this].concat(Array.prototype.slice.call(arguments)))}}}return a.mkdel(f,c)};a.invokeCI=function(b,c){if(b.exp)c=c.slice(0,c.length-1).concat(c[c.length-1]);return b.def?b.def.apply(null,c):b.sm?b.typeDef[b.sname].apply(null,c):a.applyConstructor(b.sname?b.typeDef[b.sname]:b.typeDef,c)};a.fieldAccess=function(b,a){if(b.isStatic&&!!a)throw new e("Cannot specify target for static field");else if(!b.isStatic&&!a)throw new e("Must specify target for instance field");a=b.isStatic?b.typeDef:a;if(arguments.length===3)a[b.sname]=arguments[2];else return a[b.sname]};var z=function(){};z.__typeName="ss.IFormattable";a.IFormattable=z;a.initInterface(z,a,{format:null});a.format=function(b,c){return typeof b==="number"?a.formatNumber(b,c):a.isDate(b)?a.formatDate(b,c):b.format(c)};var r=function(){};r.__typeName="ss.IComparable";a.IComparable=r;a.initInterface(r,a,{compareTo:null});var t=function(){};t.__typeName="ss.IEquatable";a.IEquatable=t;a.initInterface(t,a,{equalsT:null});a.formatNumber=function(c,b){return a.isNullOrUndefined(b)||b.length==0||b=="i"?c.toString():a.netFormatNumber(c,b,h.invariantCulture.numberFormat)};a.localeFormatNumber=function(c,b){return a.isNullOrUndefined(b)||b.length==0||b=="i"?c.toLocaleString():a.netFormatNumber(c,b,h.currentCulture.numberFormat)};a._commaFormatNumber=function(b,k,o,p){var d=null,i=b.indexOf(o);if(i>0){d=b.substr(i);b=b.substr(0,i)}var j=a.startsWithString(b,"-");if(j)b=b.substr(1);var g=0,h=k[g];if(b.length<h)return(j?"-":"")+(d?b+d:b);var l=b.length,c="",m=false;while(!m){var f=h,e=l-f;if(e<0){h+=e;f+=e;e=0;m=true}if(!f)break;var n=b.substr(e,f);if(c.length)c=n+p+c;else c=n;l-=f;if(g<k.length-1){g++;h=k[g]}}if(j)c="-"+c;return d?c+d:c};a.netFormatNumber=function(e,i,j){var c=j&&j.getFormat(n)||h.currentCulture.numberFormat,b="",d=-1;if(i.length>1)d=parseInt(i.substr(1));var g=i.charAt(0);switch(g){case"d":case"D":b=parseInt(Math.abs(e)).toString();if(d!=-1)b=a.padLeftString(b,d,48);if(e<0)b="-"+b;break;case"x":case"X":b=parseInt(Math.abs(e)).toString(16);if(g=="X")b=b.toUpperCase();if(d!=-1)b=a.padLeftString(b,d,48);break;case"e":case"E":if(d==-1)b=e.toExponential();else b=e.toExponential(d);if(g=="E")b=b.toUpperCase();break;case"f":case"F":case"n":case"N":if(d==-1)d=c.numberDecimalDigits;b=e.toFixed(d).toString();if(d&&c.numberDecimalSeparator!="."){var f=b.indexOf(".");b=b.substr(0,f)+c.numberDecimalSeparator+b.substr(f+1)}if(g=="n"||g=="N")b=a._commaFormatNumber(b,c.numberGroupSizes,c.numberDecimalSeparator,c.numberGroupSeparator);break;case"c":case"C":if(d==-1)d=c.currencyDecimalDigits;b=Math.abs(e).toFixed(d).toString();if(d&&c.currencyDecimalSeparator!="."){var f=b.indexOf(".");b=b.substr(0,f)+c.currencyDecimalSeparator+b.substr(f+1)}b=a._commaFormatNumber(b,c.currencyGroupSizes,c.currencyDecimalSeparator,c.currencyGroupSeparator);if(e<0)b=a.formatString(c.currencyNegativePattern,b);else b=a.formatString(c.currencyPositivePattern,b);break;case"p":case"P":if(d==-1)d=c.percentDecimalDigits;b=(Math.abs(e)*100).toFixed(d).toString();if(d&&c.percentDecimalSeparator!="."){var f=b.indexOf(".");b=b.substr(0,f)+c.percentDecimalSeparator+b.substr(f+1)}b=a._commaFormatNumber(b,c.percentGroupSizes,c.percentDecimalSeparator,c.percentGroupSeparator);if(e<0)b=a.formatString(c.percentNegativePattern,b);else b=a.formatString(c.percentPositivePattern,b)}return b};a.netSplit=function(d,h,i,f){for(var g=new RegExp(h.map(a.regexpEscape).join("|"),"g"),b=[],e,c=0;true;c=g.lastIndex)if(e=g.exec(d)){if(f!==1||e.index>c)if(b.length===i-1){b.push(d.substr(c));return b}else b.push(d.substring(c,e.index))}else{(f!==1||c!==d.length)&&b.push(d.substr(c));return b}};a.compareStrings=function(a,b,c){if(c){if(a)a=a.toUpperCase();if(b)b=b.toUpperCase()}a=a||"";b=b||"";return a==b?0:a<b?-1:1};a.endsWithString=function(b,a){return!a.length?true:a.length>b.length?false:b.substr(b.length-a.length)==a};a._formatString=function(c,d,b){if(!a._formatRE)a._formatRE=/\{\{|\}\}|\{[^\}\{]+\}/g;return c.replace(a._formatRE,function(c){if(c==="{{"||c==="}}")return c.charAt(0);var h=parseInt(c.substr(1)),e=d[h+1];if(a.isNullOrUndefined(e))return"";if(a.isInstanceOfType(e,z)){var g=null,f=c.indexOf(":");if(f>0)g=c.substring(f+1,c.length-1);return a.format(e,g)}else return b?e.toLocaleString():e.toString()})};a.formatString=function(b){return a._formatString(b,arguments,false)};a.stringFromChar=function(a,d){for(var c=a,b=1;b<d;b++)c+=a;return c};a.htmlDecode=function(a){return a.replace(/&([^;]+);/g,function(b,a){if(a[0]==="#")return String.fromCharCode(parseInt(a.substr(1)));switch(a){case"quot":return'"';case"apos":return"'";case"amp":return"&";case"lt":return"<";case"gt":return">";default:return"&"+a+";"}})};a.htmlEncode=function(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};a.jsEncode=function(a,b){a=a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"');return b?'"'+a+'"':a};a.indexOfAnyString=function(g,e,a,f){var b=g.length;if(!b)return-1;e=String.fromCharCode.apply(null,e);a=a||0;f=f||b;var d=a+f-1;if(d>=b)d=b-1;for(var c=a;c<=d;c++)if(e.indexOf(g.charAt(c))>=0)return c;return-1};a.insertString=function(a,b,c){if(!c)return a;if(!b)return c+a;var d=a.substr(0,b),e=a.substr(b);return d+c+e};a.isNullOrEmptyString=function(a){return!a||!a.length};a.lastIndexOfAnyString=function(g,e,a,f){var d=g.length;if(!d)return-1;e=String.fromCharCode.apply(null,e);a=a||d-1;f=f||d;var c=a-f+1;if(c<0)c=0;for(var b=a;b>=c;b--)if(e.indexOf(g.charAt(b))>=0)return b;return-1};a.localeFormatString=function(b){return a._formatString(b,arguments,true)};a.padLeftString=function(b,d,c){if(b.length<d){c=String.fromCharCode(c||32);return a.stringFromChar(c,d-b.length)+b}return b};a.padRightString=function(b,d,c){if(b.length<d){c=String.fromCharCode(c||32);return b+a.stringFromChar(c,d-b.length)}return b};a.removeString=function(c,a,b){return!b||a+b>this.length?c.substr(0,a):c.substr(0,a)+c.substr(a+b)};a.replaceAllString=function(c,b,a){a=a||"";return c.split(b).join(a)};a.startsWithString=function(b,a){return!a.length?true:a.length>b.length?false:b.substr(0,a.length)==a};if(!String.prototype.trim)String.prototype.trim=function(){return a.trimStartString(a.trimEndString(this))};a.trimEndString=function(b,a){return b.replace(a?new RegExp("["+String.fromCharCode.apply(null,a)+"]+$"):/\s*$/,"")};a.trimStartString=function(b,a){return b.replace(a?new RegExp("^["+String.fromCharCode.apply(null,a)+"]+"):/^\s*/,"")};a.trimString=function(c,b){return a.trimStartString(a.trimEndString(c,b),b)};a.lastIndexOfString=function(e,c,a,d){var b=e.lastIndexOf(c,a);return b<a-d+1?-1:b};a.indexOfString=function(e,b,a,d){var c=e.indexOf(b,a);return c+b.length<=a+d?c:-1};a.divRem=function(b,c,d){var a=b%c;d.$=a;return(b-a)/c};a.round=function(a,f,e){var c=Math.pow(10,f||0);a*=c;var b=a>0|-(a<0);if(a%1===.5*b){var d=Math.floor(a);return(d+(e?b>0:d%2*b))/c}return Math.round(a)/c};var y=function(){};y.__typeName="ss.IFormatProvider";a.IFormatProvider=y;a.initInterface(y,a,{getFormat:null});var n=function(){};n.__typeName="ss.NumberFormatInfo";a.NumberFormatInfo=n;a.initClass(n,a,{getFormat:function(a){return a===n?this:null}},null,[y]);n.invariantInfo=new n;a.shallowCopy({naNSymbol:"NaN",negativeSign:"-",positiveSign:"+",negativeInfinitySymbol:"-Infinity",positiveInfinitySymbol:"Infinity",percentSymbol:"%",percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:".",percentGroupSeparator:",",percentPositivePattern:0,percentNegativePattern:0,currencySymbol:"$",currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyNegativePattern:0,currencyPositivePattern:0,numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:".",numberGroupSeparator:","},n.invariantInfo);var m=function(){};m.__typeName="ss.DateTimeFormatInfo";a.DateTimeFormatInfo=m;a.initClass(m,a,{getFormat:function(a){return a===m?this:null}},null,[y]);m.invariantInfo=new m;a.shallowCopy({amDesignator:"AM",pmDesignator:"PM",dateSeparator:"/",timeSeparator:":",gmtDateTimePattern:"ddd, dd MMM yyyy HH:mm:ss 'GMT'",universalDateTimePattern:"yyyy-MM-dd HH:mm:ssZ",sortableDateTimePattern:"yyyy-MM-ddTHH:mm:ss",dateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",longDatePattern:"dddd, MMMM dd, yyyy",shortDatePattern:"M/d/yyyy",longTimePattern:"h:mm:ss tt",shortTimePattern:"h:mm tt",firstDayOfWeek:0,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minimizedDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},m.invariantInfo);var f=function(){this._stopTime=0;this._startTime=0;this.isRunning=false};f.startNew=function(){var a=new f;a.start();return a};if(typeof window!=="undefined"&&window.performance&&window.performance.now){f.frequency=1e6;f.isHighResolution=true;f.getTimestamp=function(){return Math.round(window.performance.now()*1e3)}}else if(typeof process!=="undefined"&&process.hrtime){f.frequency=1e9;f.isHighResolution=true;f.getTimestamp=function(){var a=process.hrtime();return a[0]*1e9+a[1]}}else{f.frequency=1e3;f.isHighResolution=false;f.getTimestamp=function(){return(new Date).valueOf()}}f.__typeName="ss.Stopwatch";a.Stopwatch=f;a.initClass(f,a,{reset:function(){this._stopTime=this._startTime=f.getTimestamp();this.isRunning=false},ticks:function(){return(this.isRunning?f.getTimestamp():this._stopTime)-this._startTime},milliseconds:function(){return Math.round(this.ticks()/f.frequency*1e3)},timeSpan:function(){return new u(this.milliseconds()*1e4)},start:function(){if(this.isRunning)return;this._startTime=f.getTimestamp();this.isRunning=true},stop:function(){if(!this.isRunning)return;this._stopTime=f.getTimestamp();this.isRunning=false},restart:function(){this.isRunning=false;this.start()}});a._flatIndex=function(a,c){if(c.length!=(a._sizes?a._sizes.length:1))throw new e("Invalid number of indices");if(c[0]<0||c[0]>=(a._sizes?a._sizes[0]:a.length))throw new e("Index 0 out of range");var d=c[0];if(a._sizes)for(var b=1;b<a._sizes.length;b++){if(c[b]<0||c[b]>=a._sizes[b])throw new e("Index "+b+" out of range");d=d*a._sizes[b]+c[b]}return d};a.arrayGet2=function(b,d){var e=a._flatIndex(b,d),c=b[e];return typeof c!=="undefined"?c:b._defvalue};a.arrayGet=function(b){return a.arrayGet2(b,Array.prototype.slice.call(arguments,1))};a.arraySet2=function(b,d,c){var e=a._flatIndex(b,c);b[e]=d};a.arraySet=function(){return a.arraySet2(arguments[0],arguments[arguments.length-1],Array.prototype.slice.call(arguments,1,arguments.length-1))};a.arrayRank=function(a){return a._sizes?a._sizes.length:1};a.arrayLength=function(a,b){if(b>=(a._sizes?a._sizes.length:1))throw new e("Invalid dimension");return a._sizes?a._sizes[b]:a.length};a.arrayExtract=function(d,b,c){return!a.isValue(c)?d.slice(b):d.slice(b,b+c)};a.arrayAddRange=function(d,c){if(c instanceof Array)d.push.apply(d,c);else{var b=a.getEnumerator(c);try{while(b.moveNext())a.add(d,b.current())}finally{a.isInstanceOfType(b,i)&&a.cast(b,i).dispose()}}};a.arrayClone=function(a){return a.length===1?[a[0]]:Array.apply(null,a)};a.arrayPeekFront=function(a){if(a.length)return a[0];throw new g("Array is empty");};a.arrayPeekBack=function(a){if(a.length)return a[a.length-1];throw new g("Array is empty");};a.indexOfArray=function(d,e,c){c=c||0;for(var b=c;b<d.length;b++)if(a.staticEquals(d[b],e))return b;return-1};a.arrayInsertRange=function(d,c,b){if(b instanceof Array)if(c===0)d.unshift.apply(d,b);else for(var f=0;f<b.length;f++)d.splice(c+f,0,b[f]);else{var e=a.getEnumerator(b);try{while(e.moveNext()){d.insert(c,e.current());c++}}finally{a.isInstanceOfType(e,i)&&a.cast(e,i).dispose()}}};if(!Array.prototype.map)Array.prototype.map=function(d,e){for(var b=this.length,c=new Array(b),a=0;a<b;a++)if(a in this)c[a]=d.call(e,this[a],a,this);return c};a.arrayRemoveRange=function(c,b,a){c.splice(b,a)};if(!Array.prototype.some)Array.prototype.some=function(b,c){for(var d=this.length,a=0;a<d;a++)if(a in this&&b.call(c,this[a],a,this))return true;return false};a.arrayFromEnumerable=function(c){if(!a.isValue(c))return null;var b=a.getEnumerator(c),d=[];try{while(b.moveNext())d.push(b.current())}finally{b.dispose()}return d};a.multidimArray=function(d){var a=[];a._defvalue=d;a._sizes=[arguments[1]];for(var c=arguments[1],b=2;b<arguments.length;b++){c*=arguments[b];a._sizes[b-1]=arguments[b]}a.length=c;return a};a.repeat=function(d,c){for(var a=[],b=0;b<c;b++)a.push(d);return a};a.utcNow=function(){var a=new Date;return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())};a.toUTC=function(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())};a.fromUTC=function(a){return new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()))};a.today=function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate())};a.formatDate=function(c,b){return a.isNullOrUndefined(b)||b.length==0||b=="i"?c.toString():b=="id"?c.toDateString():b=="it"?c.toTimeString():a._netFormatDate(c,b,false)};a.localeFormatDate=function(c,b){return a.isNullOrUndefined(b)||b.length==0||b=="i"?c.toLocaleString():b=="id"?c.toLocaleDateString():b=="it"?c.toLocaleTimeString():a._netFormatDate(c,b,true)};a._netFormatDate=function(c,e,k){var d=k?h.currentCulture.dateTimeFormat:h.invariantCulture.dateTimeFormat;if(e.length==1)switch(e){case"f":e=d.longDatePattern+" "+d.shortTimePattern;break;case"F":e=d.dateTimePattern;break;case"d":e=d.shortDatePattern;break;case"D":e=d.longDatePattern;break;case"t":e=d.shortTimePattern;break;case"T":e=d.longTimePattern;break;case"g":e=d.shortDatePattern+" "+d.shortTimePattern;break;case"G":e=d.shortDatePattern+" "+d.longTimePattern;break;case"R":case"r":d=h.InvariantCulture.dateTimeFormat;e=d.gmtDateTimePattern;break;case"u":e=d.universalDateTimePattern;break;case"U":e=d.dateTimePattern;c=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds());break;case"s":e=d.sortableDateTimePattern}if(e.charAt(0)=="%")e=e.substr(1);if(!Date._formatRE)Date._formatRE=/'.*?[^\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z/g;var i=Date._formatRE,j=new V;i.lastIndex=0;while(true){var l=i.lastIndex,g=i.exec(e);j.append(e.slice(l,g?g.index:e.length));if(!g)break;var f=g[0],b=f;switch(f){case"dddd":b=d.dayNames[c.getDay()];break;case"ddd":b=d.shortDayNames[c.getDay()];break;case"dd":b=a.padLeftString(c.getDate().toString(),2,48);break;case"d":b=c.getDate();break;case"MMMM":b=d.monthNames[c.getMonth()];break;case"MMM":b=d.shortMonthNames[c.getMonth()];break;case"MM":b=a.padLeftString((c.getMonth()+1).toString(),2,48);break;case"M":b=c.getMonth()+1;break;case"yyyy":b=c.getFullYear();break;case"yy":b=a.padLeftString((c.getFullYear()%100).toString(),2,48);break;case"y":b=c.getFullYear()%100;break;case"h":case"hh":b=c.getHours()%12;if(!b)b="12";else if(f=="hh")b=a.padLeftString(b.toString(),2,48);break;case"HH":b=a.padLeftString(c.getHours().toString(),2,48);break;case"H":b=c.getHours();break;case"mm":b=a.padLeftString(c.getMinutes().toString(),2,48);break;case"m":b=c.getMinutes();break;case"ss":b=a.padLeftString(c.getSeconds().toString(),2,48);break;case"s":b=c.getSeconds();break;case"t":case"tt":b=c.getHours()<12?d.amDesignator:d.pmDesignator;if(f=="t")b=b.charAt(0);break;case"fff":b=a.padLeftString(c.getMilliseconds().toString(),3,48);break;case"ff":b=a.padLeftString(c.getMilliseconds().toString(),3).substr(0,2);break;case"f":b=a.padLeftString(c.getMilliseconds().toString(),3).charAt(0);break;case"z":b=c.getTimezoneOffset()/60;b=(b>=0?"-":"+")+Math.floor(Math.abs(b));break;case"zz":case"zzz":b=c.getTimezoneOffset()/60;b=(b>=0?"-":"+")+Math.floor(a.padLeftString(Math.abs(b)).toString(),2,48);if(f=="zzz")b+=d.timeSeparator+Math.abs(a.padLeftString(c.getTimezoneOffset()%60).toString(),2,48);break;default:if(b.charAt(0)=="'")b=b.substr(1,b.length-2).replace(/\\'/g,"'")}j.append(b)}return j.toString()};a._parseExactDate=function(c,j,p,u){p=p&&p.getFormat(m)||h.currentCulture.dateTimeFormat;var q=p.amDesignator,r=p.pmDesignator,t=function(b){for(var c="1234567890",a=0;a<b.length;a++)if(c.indexOf(b.charAt(a))==-1)return false;return true},i=function(f,d,c,e){for(var b=e;b>=c;b--){var a=f.substring(d,d+b);if(a.length<c)return null;if(t(a))return a}return null};c=c+"";j=j+"";var b=0,o=0,s="",a="",e=0,f=1,g=1,d=0,l=0,k=0,n="";while(o<j.length){s=j.charAt(o);a="";while(j.charAt(o)==s&&o<j.length)a+=j.charAt(o++);if(a=="yyyy"||a=="yy"||a=="y"){if(a=="yyyy")e=i(c,b,4,4);if(a=="yy")e=i(c,b,2,2);if(a=="y")e=i(c,b,2,4);if(e==null)return null;b+=e.length;if(e.length==2)if(e>30)e=1900+(e-0);else e=2e3+(e-0)}else if(a=="MM"||a=="M"){f=i(c,b,a.length,2);if(f==null||f<1||f>12)return null;b+=f.length}else if(a=="dd"||a=="d"){g=i(c,b,a.length,2);if(g==null||g<1||g>31)return null;b+=g.length}else if(a=="hh"||a=="h"){d=i(c,b,a.length,2);if(d==null||d<1||d>12)return null;b+=d.length}else if(a=="HH"||a=="H"){d=i(c,b,a.length,2);if(d==null||d<0||d>23)return null;b+=d.length}else if(a=="mm"||a=="m"){l=i(c,b,a.length,2);if(l==null||l<0||l>59)return null;b+=l.length}else if(a=="ss"||a=="s"){k=i(c,b,a.length,2);if(k==null||k<0||k>59)return null;b+=k.length}else if(a=="t"){if(c.substring(b,b+1).toLowerCase()==q.charAt(0).toLowerCase())n=q;else if(c.substring(b,b+1).toLowerCase()==r.charAt(0).toLowerCase())n=r;else return null;b+=1}else if(a=="tt"){if(c.substring(b,b+2).toLowerCase()==q.toLowerCase())n=q;else if(c.substring(b,b+2).toLowerCase()==r.toLowerCase())n=r;else return null;b+=2}else if(c.substring(b,b+a.length)!=a)return null;else b+=a.length}if(b!=c.length)return null;if(f==2)if(e%4==0&&e%100!=0||e%400==0){if(g>29)return null}else if(g>28)return null;if(f==4||f==6||f==9||f==11)if(g>30)return null;if(d<12&&n==r)d=d-0+12;else if(d>11&&n==q)d-=12;return u?new Date(Date.UTC(e,f-1,g,d,l,k)):new Date(e,f-1,g,d,l,k)};a.parseExactDate=function(d,c,b){return a._parseExactDate(d,c,b,false)};a.parseExactDateUTC=function(d,c,b){return a._parseExactDate(d,c,b,true)};a._delegateContains=function(b,d,c){for(var a=0;a<b.length;a+=2)if(b[a]===d&&b[a+1]===c)return true;return false};a._mkdel=function(b){var c=function(){if(b.length==2)return b[1].apply(b[0],arguments);else{for(var d=a.arrayClone(b),c=0;c<d.length;c+=2)a._delegateContains(b,d[c],d[c+1])&&d[c+1].apply(d[c],arguments);return null}};c._targets=b;return c};a.mkdel=function(c,b){return!c?b:a._mkdel([c,b])};a.delegateCombine=function(b,c){if(!b)return!c._targets?a.mkdel(null,c):c;if(!c)return!b._targets?a.mkdel(null,b):b;var d=b._targets?b._targets:[null,b],e=c._targets?c._targets:[null,c];return a._mkdel(d.concat(e))};a.delegateRemove=function(c,b){if(!c||c===b)return null;if(!b)return c;var d=c._targets,g=null,f;if(b._targets){g=b._targets[0];f=b._targets[1]}else f=b;for(var e=0;e<d.length;e+=2)if(d[e]===g&&d[e+1]===f){if(d.length==2)return null;var h=a.arrayClone(d);h.splice(e,2);return a._mkdel(h)}return c};a.delegateEquals=function(a,b){if(a===b)return true;if(!a._targets&&!b._targets)return false;var d=a._targets||[null,a],e=b._targets||[null,b];if(d.length!=e.length)return false;for(var c=0;c<d.length;c++)if(d[c]!==e[c])return false;return true};a.delegateClone=function(b){return b._targets?a._mkdel(b._targets):function(){return b.apply(this,arguments)}};a.thisFix=function(a){return function(){for(var c=[this],b=0;b<arguments.length;b++)c.push(arguments[b]);return a.apply(a,c)}};a.getInvocationList=function(b){if(!b._targets)return[b];for(var d=[],c=0;c<b._targets.length;c+=2)d.push(a.mkdel(b._targets[c],b._targets[c+1]));return d};a.regexpEscape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};a.Debug=k.Debug||function(){};a.Debug.__typeName="Debug";if(!a.Debug.writeln)a.Debug.writeln=function(a){if(k.console){if(k.console.debug){k.console.debug(a);return}else if(k.console.log){k.console.log(a);return}}else if(k.opera&&k.opera.postError){k.opera.postError(a);return}};a.Debug._fail=function(b){a.Debug.writeln(b)};a.Debug.assert=function(c,b){if(!c){b="Assert failed: "+b;confirm(b+"\r\n\r\nBreak into debugger?")&&a.Debug._fail(b)}};a.Debug.fail=function(b){a.Debug._fail(b)};var C=function(){};C.__typeName="ss.Enum";a.Enum=C;a.initClass(C,a,{});C.parse=function(f,k){var b=f.prototype;if(!a.isFlags(f)){for(var c in b)if(c===k)return b[c]}else{for(var i=k.split("|"),j=0,g=true,d=i.length-1;d>=0;d--){var l=i[d].trim(),h=false;for(var c in b)if(c===l){j|=b[c];h=true;break}if(!h){g=false;break}}if(g)return j}throw new e("Invalid Enumeration Value");};C.toString=function(g,f){var b=g.prototype;if(!a.isFlags(g)||f===0){for(var c in b)if(b[c]===f)return c;throw new e("Invalid Enumeration Value");}else{var d=[];for(var c in b)b[c]&f&&a.add(d,c);if(!d.length)throw new e("Invalid Enumeration Value");return d.join(" | ")}};C.getValues=function(d){var b=[],a=d.prototype;for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b};var h=function(c,b,a){this.name=c;this.numberFormat=b;this.dateTimeFormat=a};h.__typeName="ss.CultureInfo";a.CultureInfo=h;a.initClass(h,a,{getFormat:function(a){switch(a){case n:return this.numberFormat;case m:return this.dateTimeFormat;default:return null}}},null,[y]);h.invariantCulture=new h("en-US",n.invariantInfo,m.invariantInfo);h.currentCulture=h.invariantCulture;var B=function(){};B.__typeName="ss.IEnumerator";a.IEnumerator=B;a.initInterface(B,a,{current:null,moveNext:null,reset:null},[i]);var s=function(){};s.__typeName="ss.IEnumerable";a.IEnumerable=s;a.initInterface(s,a,{getEnumerator:null});a.getEnumerator=function(a){return a.getEnumerator?a.getEnumerator():new T(a)};var A=function(){};A.__typeName="ss.ICollection";a.ICollection=A;a.initInterface(A,a,{get_count:null,add:null,clear:null,contains:null,remove:null});a.count=function(a){return a.get_count?a.get_count():a.length};a.add=function(b,c){if(b.add)b.add(c);else if(a.isArray(b))b.push(c);else throw new q;};a.clear=function(b){if(b.clear)b.clear();else if(a.isArray(b))b.length=0;else throw new q;};a.remove=function(b,d){if(b.remove)return b.remove(d);else if(a.isArray(b)){var c=a.indexOf(b,d);if(c>=0){b.splice(c,1);return true}return false}else throw new q;};a.contains=function(b,c){return b.contains?b.contains(c):a.indexOf(b,c)>=0};var u=function(a){this.ticks=a||0};u.getDefaultValue=u.createInstance=function(){return new u(0)};u.__typeName="ss.TimeSpan";a.TimeSpan=u;a.initClass(u,a,{compareTo:function(a){return this.ticks<a.ticks?-1:this.ticks>a.ticks?1:0},equals:function(b){return a.isInstanceOfType(b,u)&&b.ticks===this.ticks},equalsT:function(a){return a.ticks===this.ticks},toString:function(){var d=function(c,b){return a.padLeftString(c+"",b||2,48)},b=this.ticks,c="";if(Math.abs(b)>=8.64e11){c+=d(b/8.64e11|0)+".";b%=8.64e11}c+=d(b/3.6e10|0)+":";b%=3.6e10;c+=d(b/6e8|0)+":";b%=6e8;c+=d(b/1e7|0);b%=1e7;if(b>0)c+="."+d(b,7);return c}},null,[r,t]);u.__class=false;var Q=function(){};Q.__typeName="ss.IEqualityComparer";a.IEqualityComparer=Q;a.initInterface(Q,a,{areEqual:null,getObjectHashCode:null});var X=function(){};X.__typeName="ss.IComparer";a.IComparer=X;a.initInterface(X,a,{compare:null});a.unbox=function(b){if(!a.isValue(b))throw new g("Nullable object must have a value.");return b};var c=function(d){var b=function(){};b.isInstanceOfType=function(b){return a.isInstanceOfType(b,d)};a.registerGenericClassInstance(b,c,[d],{},function(){return null},function(){return[]});return b};c.__typeName="ss.Nullable$1";a.Nullable$1=c;a.initGenericClass(c,a,1);c.eq=function(b,c){return!a.isValue(b)?!a.isValue(c):b===c};c.ne=function(b,c){return!a.isValue(b)?a.isValue(c):b!==c};c.le=function(b,c){return a.isValue(b)&&a.isValue(c)&&b<=c};c.ge=function(b,c){return a.isValue(b)&&a.isValue(c)&&b>=c};c.lt=function(b,c){return a.isValue(b)&&a.isValue(c)&&b<c};c.gt=function(b,c){return a.isValue(b)&&a.isValue(c)&&b>c};c.sub=function(b,c){return a.isValue(b)&&a.isValue(c)?b-c:null};c.add=function(b,c){return a.isValue(b)&&a.isValue(c)?b+c:null};c.mod=function(b,c){return a.isValue(b)&&a.isValue(c)?b%c:null};c.div=function(b,c){return a.isValue(b)&&a.isValue(c)?b/c:null};c.mul=function(b,c){return a.isValue(b)&&a.isValue(c)?b*c:null};c.band=function(b,c){return a.isValue(b)&&a.isValue(c)?b&c:null};c.bor=function(b,c){return a.isValue(b)&&a.isValue(c)?b|c:null};c.xor=function(b,c){return a.isValue(b)&&a.isValue(c)?b^c:null};c.shl=function(b,c){return a.isValue(b)&&a.isValue(c)?b<<c:null};c.srs=function(b,c){return a.isValue(b)&&a.isValue(c)?b>>c:null};c.sru=function(b,c){return a.isValue(b)&&a.isValue(c)?b>>>c:null};c.and=function(a,b){return a===true&&b===true?true:a===false||b===false?false:null};c.or=function(a,b){return a===true||b===true?true:a===false&&b===false?false:null};c.not=function(b){return a.isValue(b)?!b:null};c.neg=function(b){return a.isValue(b)?-b:null};c.pos=function(b){return a.isValue(b)?+b:null};c.cpl=function(b){return a.isValue(b)?~b:null};c.lift=function(){for(var b=0;b<arguments.length;b++)if(!a.isValue(arguments[b]))return null;return arguments[0].apply(null,Array.prototype.slice.call(arguments,1))};var Z=function(){};Z.__typeName="ss.IList";a.IList=Z;a.initInterface(Z,a,{get_item:null,set_item:null,indexOf:null,insert:null,removeAt:null},[A,s]);a.getItem=function(a,b){return a.get_item?a.get_item(b):a[b]};a.setItem=function(a,b,c){a.set_item?a.set_item(b,c):(a[b]=c)};a.indexOf=function(b,d){if(a.isArrayOrTypedArray(b)){for(var c=0;c<b.length;c++)if(a.staticEquals(b[c],d))return c;return-1}else return b.indexOf(d)};a.insert=function(b,c,d){if(b.insert)b.insert(c,d);else if(a.isArray(b))b.splice(c,0,d);else throw new q;};a.removeAt=function(b,c){if(b.removeAt)b.removeAt(c);else if(a.isArray(b))b.splice(c,1);else throw new q;};var F=function(){};F.__typeName="ss.IDictionary";a.IDictionary=F;a.initInterface(F,a,{get_item:null,set_item:null,get_keys:null,get_values:null,containsKey:null,add:null,remove:null,tryGetValue:null},[s]);var o=function(){};o.__typeName="ss.Int32";a.Int32=o;a.initClass(o,a,{},Object,[t,r,z]);o.__class=false;o.isInstanceOfType=function(a){return typeof a==="number"&&isFinite(a)&&Math.round(a,0)==a};o.getDefaultValue=o.createInstance=function(){return 0};o.div=function(c,b){if(!a.isValue(c)||!a.isValue(b))return null;if(b===0)throw new N;return c/b|0};o.trunc=function(b){return a.isValue(b)?b|0:null};o.tryParse=function(c,b,e,d){b.$=0;if(!/^[+-]?[0-9]+$/.test(c))return 0;var a=parseInt(c);if(a<e||a>d)return false;b.$=a;return true};var H=function(){};H.__typeName="ss.JsDate";a.JsDate=H;a.initClass(H,a,{},Object,[t,r]);H.createInstance=function(){return new Date};H.isInstanceOfType=function(a){return a instanceof Date};var T=function(a){this._array=a;this._index=-1};T.__typeName="ss.ArrayEnumerator";a.ArrayEnumerator=T;a.initClass(T,a,{moveNext:function(){this._index++;return this._index<this._array.length},reset:function(){this._index=-1},current:function(){if(this._index<0||this._index>=this._array.length)throw"Invalid operation";return this._array[this._index]},dispose:function(){}},null,[B,i]);var cb=function(a){this._keys=Object.keys(a);this._index=-1;this._object=a};cb.__typeName="ss.ObjectEnumerator";a.ObjectEnumerator=cb;a.initClass(cb,a,{moveNext:function(){this._index++;return this._index<this._keys.length},reset:function(){this._index=-1},current:function(){if(this._index<0||this._index>=this._keys.length)throw new g("Invalid operation");var a=this._keys[this._index];return{key:a,value:this._object[a]}},dispose:function(){}},null,[B,i]);var x=function(){};x.__typeName="ss.EqualityComparer";a.EqualityComparer=x;a.initClass(x,a,{areEqual:function(b,c){return a.staticEquals(b,c)},getObjectHashCode:function(b){return a.isValue(b)?a.getHashCode(b):0}},null,[Q]);x.def=new x;var G=function(a){this.f=a};G.__typeName="ss.Comparer";a.Comparer=G;a.initClass(G,a,{compare:function(a,b){return this.f(a,b)}},null,[X]);G.def=new G(function(c,b){return!a.isValue(c)?!a.isValue(b)?0:-1:!a.isValue(b)?1:a.compare(c,b)});var E=function(b,a){this._dict=b;this._isKeys=a},W=function(d,b){var c=function(b,g){this.countField=0;this.buckets={};this.comparer=g||x.def;if(a.isInstanceOfType(b,F)){var c=a.getEnumerator(b);try{while(c.moveNext()){var f=c.current();this.add(f.key,f.value)}}finally{a.isInstanceOfType(c,i)&&a.cast(c,i).dispose()}}else if(b)for(var e=Object.keys(b),d=0;d<e.length;d++)this.add(e[d],b[e[d]])};a.registerGenericClassInstance(c,W,[d,b],{_setOrAdd:function(b,g,h){var f=this.comparer.getObjectHashCode(b),d={key:b,value:g};if(this.buckets.hasOwnProperty(f)){for(var a=this.buckets[f],c=0;c<a.length;c++)if(this.comparer.areEqual(a[c].key,b)){if(h)throw new e("Key "+b+" already exists.");a[c]=d;return}a.push(d)}else this.buckets[f]=[d];this.countField++},add:function(b,a){this._setOrAdd(b,a,true)},set_item:function(b,a){this._setOrAdd(b,a,false)},_get:function(e){var d=this.comparer.getObjectHashCode(e);if(this.buckets.hasOwnProperty(d))for(var c=this.buckets[d],b=0;b<c.length;b++){var a=c[b];if(this.comparer.areEqual(a.key,e))return a.value!==undefined?a.value:null}return undefined},get_item:function(a){var b=this._get(a);if(b===undefined)throw new P("Key "+a+" does not exist.");return b},tryGetValue:function(e,c){var d=this._get(e);if(d!==undefined){c.$=d;return true}else{c.$=a.getDefaultValue(b);return false}},containsKey:function(d){var c=this.comparer.getObjectHashCode(d);if(!this.buckets.hasOwnProperty(c))return false;for(var b=this.buckets[c],a=0;a<b.length;a++)if(this.comparer.areEqual(b[a].key,d))return true;return false},clear:function(){this.countField=0;this.buckets={}},remove:function(d){var c=this.comparer.getObjectHashCode(d);if(!this.buckets.hasOwnProperty(c))return false;for(var a=this.buckets[c],b=0;b<a.length;b++)if(this.comparer.areEqual(a[b].key,d)){a.splice(b,1);if(a.length==0)delete this.buckets[c];this.countField--;return true}return false},get_count:function(){return this.countField},_getEnumerator:function(d){var c=Object.keys(this.buckets),a=-1,b;return new L(function(){if(a<0||b>=this.buckets[c[a]].length-1){b=-1;a++}if(a>=c.length)return false;b++;return true},function(){return d(this.buckets[c[a]][b])},null,this)},get_keys:function(){return new E(this,true)},get_values:function(){return new E(this,false)},getEnumerator:function(){return this._getEnumerator(function(a){return a})}},function(){return null},function(){return[F,s]});return c};W.__typeName="ss.Dictionary$2";a.Dictionary$2=W;a.initGenericClass(W,a,2);E.__typeName="ss.$DictionaryCollection";a.$DictionaryCollection=E;a.initClass(E,a,{get_count:function(){return this._dict.get_count()},contains:function(d){if(this._isKeys)return this._dict.containsKey(d);else{for(var c in this._dict.buckets)if(this._dict.buckets.hasOwnProperty(c))for(var b=this._dict.buckets[c],a=0;a<b.length;a++)if(this._dict.comparer.areEqual(b[a].value,d))return true;return false}},getEnumerator:function(){return this._dict._getEnumerator(this._isKeys?function(a){return a.key}:function(a){return a.value})},add:function(){throw new g("Collection is read-only");},clear:function(){throw new g("Collection is read-only");},remove:function(){throw new g("Collection is read-only");}},null,[s,A]);var i=function(){};i.__typeName="ss.IDisposable";a.IDisposable=i;a.initInterface(i,a,{dispose:null});var V=function(b){this._parts=a.isValue(b)&&b!=""?[b]:[];this.length=a.isValue(b)?b.length:0};V.__typeName="ss.StringBuilder";a.StringBuilder=V;a.initClass(V,a,{append:function(b){if(a.isValue(b)){var c=b.toString();a.add(this._parts,c);this.length+=c.length}return this},appendChar:function(a){return this.append(String.fromCharCode(a))},appendLine:function(a){this.append(a);this.append("\r\n");return this},appendLineChar:function(a){return this.appendLine(String.fromCharCode(a))},clear:function(){this._parts=[];this.length=0},toString:function(){return this._parts.join("")}});var Y=function(e){var a=e===undefined?parseInt(Date.now()%2147483648):parseInt(Math.abs(e));this.inext=0;this.inextp=21;this.seedArray=new Array(56);for(var b=0;b<56;b++)this.seedArray[b]=0;a=161803398-a;if(a<0)a+=2147483648;this.seedArray[55]=a;for(var d=1,b=1;b<55;b++){var f=21*b%55;this.seedArray[f]=d;d=a-d;if(d<0)d+=2147483648;a=this.seedArray[f]}for(var g=1;g<5;g++)for(var c=1;c<56;c++){this.seedArray[c]-=this.seedArray[1+(c+30)%55];if(this.seedArray[c]<0)this.seedArray[c]+=2147483648}};Y.__typeName="ss.Random";a.Random=Y;a.initClass(Y,a,{next:function(){return this.sample()*2147483648|0},nextMax:function(a){return this.sample()*a|0},nextMinMax:function(a,b){return this.sample()*(b-a)+a|0},nextBytes:function(b){for(var a=0;a<b.length;a++)b[a]=this.sample()*256|0},nextDouble:function(){return this.sample()},sample:function(){if(++this.inext>=56)this.inext=1;if(++this.inextp>=56)this.inextp=1;var a=this.seedArray[this.inext]-this.seedArray[this.inextp];if(a<0)a+=2147483648;this.seedArray[this.inext]=a;return a*(1/2147483648)}});var w=function(){};w.__typeName="ss.EventArgs";a.EventArgs=w;a.initClass(w,a,{});w.Empty=new w;var b=function(b,a){this._message=b||"An error occurred.";this._innerException=a||null};b.__typeName="ss.Exception";a.Exception=b;a.initClass(b,a,{get_message:function(){return this._message},get_innerException:function(){return this._innerException}});b.wrap=function(c){return a.isInstanceOfType(c,b)?c:c instanceof TypeError?new p(c.message):c instanceof RangeError?new J(null,c.message):c instanceof Error?new R(c):new b(c.toString())};var bb=function(c,a){b.call(this,c||"The method or operation is not implemented.",a)};bb.__typeName="ss.NotImplementedException";a.NotImplementedException=bb;a.initClass(bb,a,{},b);var q=function(c,a){b.call(this,c||"Specified method is not supported.",a)};q.__typeName="ss.NotSupportedException";a.NotSupportedException=q;a.initClass(q,a,{},b);var v=function(d,c){this.innerExceptions=a.isValue(c)?a.arrayFromEnumerable(c):[];b.call(this,d||"One or more errors occurred.",this.innerExceptions.length?this.innerExceptions[0]:null)};v.__typeName="ss.AggregateException";a.AggregateException=v;a.initClass(v,a,{flatten:function(){for(var b=[],d=0;d<this.innerExceptions.length;d++){var c=this.innerExceptions[d];if(a.isInstanceOfType(c,v))b.push.apply(b,c.flatten().innerExceptions);else b.push(c)}return new v(this._message,b)}},b);var S=function(c,e,d){b.call(this,e||(c.length&&c[0]?c[0].toString():"An error occurred"),d);this.arguments=a.arrayClone(c)};S.__typeName="ss.PromiseException";a.PromiseException=S;a.initClass(S,a,{get_arguments:function(){return this._arguments}},b);var R=function(a,d,c){b.call(this,d||a.message,c);this.error=a};R.__typeName="ss.JsErrorException";a.JsErrorException=R;a.initClass(R,a,{},b);var e=function(d,c,a){b.call(this,d||"Value does not fall within the expected range.",a);this.paramName=c||null};e.__typeName="ss.ArgumentException";a.ArgumentException=e;a.initClass(e,a,{},b);var M=function(b,a,c){if(!a){a="Value cannot be null.";if(b)a+="\nParameter name: "+b}e.call(this,a,b,c)};M.__typeName="ss.ArgumentNullException";a.ArgumentNullException=M;a.initClass(M,a,{},e);var J=function(b,a,c,d){if(!a){a="Value is out of range.";if(b)a+="\nParameter name: "+b}e.call(this,a,b,c);this.actualValue=d||null};J.__typeName="ss.ArgumentOutOfRangeException";a.ArgumentOutOfRangeException=J;a.initClass(J,a,{},e);var U=function(c,a){b.call(this,c||"Invalid format.",a)};U.__typeName="ss.FormatException";a.FormatException=U;a.initClass(U,a,{},b);var N=function(c,a){b.call(this,c||"Division by 0.",a)};N.__typeName="ss.DivideByZeroException";a.DivideByZeroException=N;a.initClass(N,a,{},b);var O=function(c,a){b.call(this,c||"The cast is not valid.",a)};O.__typeName="ss.InvalidCastException";a.InvalidCastException=O;a.initClass(O,a,{},b);var g=function(c,a){b.call(this,c||"Operation is not valid due to the current state of the object.",a)};g.__typeName="ss.InvalidOperationException";a.InvalidOperationException=g;a.initClass(g,a,{},b);var p=function(c,a){b.call(this,c||"Object is null.",a)};p.__typeName="ss.NullReferenceException";a.NullReferenceException=p;a.initClass(p,a,{},b);var P=function(c,a){b.call(this,c||"Key not found.",a)};P.__typeName="ss.KeyNotFoundException";a.KeyNotFoundException=P;a.initClass(P,a,{},b);var K=function(c,a){b.call(this,c||"Ambiguous match.",a)};K.__typeName="ss.AmbiguousMatchException";a.AmbiguousMatchException=K;a.initClass(K,a,{},b);var ab=function(a,b){this._getEnumerator=a;this._this=b};ab.__typeName="ss.IteratorBlockEnumerable";a.IteratorBlockEnumerable=ab;a.initClass(ab,a,{getEnumerator:function(){return this._getEnumerator.call(this._this)}},null,[s]);var L=function(b,a,c,d){this._moveNext=b;this._getCurrent=a;this._dispose=c;this._this=d};L.__typeName="ss.IteratorBlockEnumerator";a.IteratorBlockEnumerator=L;a.initClass(L,a,{moveNext:function(){try{return this._moveNext.call(this._this)}catch(a){this._dispose&&this._dispose.call(this._this);throw a;}},current:function(){return this._getCurrent.call(this._this)},reset:function(){throw new q("Reset is not supported.");},dispose:function(){this._dispose&&this._dispose.call(this._this)}},null,[B,i]);var fb=function(a){this._valueFactory=a;this.isValueCreated=false};fb.__typeName="ss.Lazy";a.Lazy=fb;a.initClass(fb,a,{value:function(){if(!this.isValueCreated){this._value=this._valueFactory();delete this._valueFactory;this.isValueCreated=true}return this._value}});var j=function(a,b){this._action=a;this._state=b;this.exception=null;this.status=0;this._thens=[];this._result=null};j.delay=function(b){var a=new l;setTimeout(function(){a.setResult(0)},b);return a.task};j.fromResult=function(b){var a=new j;a.status=5;a._result=b;return a};j.run=function(c){var a=new l;setTimeout(function(){try{a.setResult(c())}catch(d){a.setException(b.wrap(d))}},0);return a.task};j.whenAll=function(b){var c=new l;if(b.length===0)c.setResult([]);else for(var h=new Array(b.length),i=b.length,f=false,d=[],e=0;e<b.length;e++)(function(e){b[e].continueWith(function(b){switch(b.status){case 5:h[e]=b.getResult();break;case 6:f=true;break;case 7:a.arrayAddRange(d,b.exception.innerExceptions);break;default:throw new g("Invalid task status "+b.status);}if(--i===0)if(d.length>0)c.setException(d);else if(f)c.setCanceled();else c.setResult(h)})})(e);return c.task};j.whenAny=function(b){if(!b.length)throw new e("Must wait for at least one task","tasks");for(var a=new l,c=0;c<b.length;c++)b[c].continueWith(function(b){switch(b.status){case 5:a.trySetResult(b);break;case 6:a.trySetCanceled();break;case 7:a.trySetException(b.exception.innerExceptions);break;default:throw new g("Invalid task status "+b.status);}});return a.task};j.fromDoneCallback=function(e,b,d){var c=new l,a;if(typeof b==="number"){a=Array.prototype.slice.call(arguments,3);if(b<0)b+=a.length+1}else{a=Array.prototype.slice.call(arguments,2);d=b;b=a.length}var f=function(a){c.setResult(a)};a=a.slice(0,b).concat(f,a.slice(b));e[d].apply(e,a);return c.task};j.fromPromise=function(c,a){var b=new l;if(typeof a==="number")a=function(a){return function(){return arguments[a>=0?a:arguments.length+a]}}(a);else if(typeof a!=="function")a=function(){return Array.prototype.slice.call(arguments,0)};c.then(function(){b.setResult(typeof a==="function"?a.apply(null,arguments):null)},function(){b.setException(new S(Array.prototype.slice.call(arguments,0)))});return b.task};j.fromNode=function(f,c,e){var d=new l,a;if(typeof c==="function")a=Array.prototype.slice.call(arguments,3);else{a=Array.prototype.slice.call(arguments,2);e=c;c=function(){return arguments[0]}}var g=function(a){if(a)d.setException(b.wrap(a));else d.setResult(c.apply(null,Array.prototype.slice.call(arguments,1)))};a.push(g);f[e].apply(f,a);return d.task};j.__typeName="ss.Task";a.Task=j;a.initClass(j,a,{continueWith:function(d){var a=new l,e=this,c=function(){try{a.setResult(d(e))}catch(c){a.setException(b.wrap(c))}};if(this.isCompleted())setTimeout(c,0);else this._thens.push(c);return a.task},start:function(){if(this.status!==0)throw new g("Task was already started.");var a=this;this.status=3;setTimeout(function(){try{var c=a._action(a._state);delete a._action;delete a._state;a._complete(c)}catch(d){a._fail(new v(null,[b.wrap(d)]))}},0)},_runCallbacks:function(){for(var a=0;a<this._thens.length;a++)this._thens[a](this);delete this._thens},_complete:function(a){if(this.isCompleted())return false;this._result=a;this.status=5;this._runCallbacks();return true},_fail:function(a){if(this.isCompleted())return false;this.exception=a;this.status=7;this._runCallbacks();return true},_cancel:function(){if(this.isCompleted())return false;this.status=6;this._runCallbacks();return true},isCanceled:function(){return this.status===6},isCompleted:function(){return this.status>=5},isFaulted:function(){return this.status===7},_getResult:function(a){switch(this.status){case 5:return this._result;case 6:throw new g("Task was cancelled.");case 7:throw a?this.exception.innerExceptions[0]:this.exception;default:throw new g("Task is not yet completed.");}},getResult:function(){return this._getResult(false)},getAwaitedResult:function(){return this._getResult(true)},dispose:function(){}},null,[i]);var eb=function(){};eb.__typeName="ss.TaskStatus";a.TaskStatus=eb;a.initEnum(eb,a,{created:0,running:3,ranToCompletion:5,canceled:6,faulted:7});var l=function(){this.task=new j;this.task.status=3};l.__typeName="ss.TaskCompletionSource";a.TaskCompletionSource=l;a.initClass(l,a,{setCanceled:function(){if(!this.task._cancel())throw new g("Task was already completed.");},setResult:function(a){if(!this.task._complete(a))throw new g("Task was already completed.");},setException:function(a){if(!this.trySetException(a))throw new g("Task was already completed.");},trySetCanceled:function(){return this.task._cancel()},trySetResult:function(a){return this.task._complete(a)},trySetException:function(c){if(a.isInstanceOfType(c,b))c=[c];return this.task._fail(new v(null,c))}});var db=function(){w.call(this);this.cancel=false};db.__typeName="ss.CancelEventArgs";a.CancelEventArgs=db;a.initClass(db,a,{},w);var d=function(){};d.$valid=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/ig;d.$split=/^(.{8})(.{4})(.{4})(.{4})(.{12})$/;d.empty="00000000-0000-0000-0000-000000000000";d.$rng=new Y;d.__typeName="ss.Guid";a.Guid=d;a.initClass(d,a,{},Object,[t,r]);d.__class=false;d.isInstanceOfType=function(a){return typeof a==="string"&&a.match(d.$valid)};d.getDefaultValue=d.createInstance=function(){return d.empty};d.parse=function(c,b){var a={};if(d.tryParse(c,b,a))return a.$;throw new U("Unable to parse UUID");};d.tryParse=function(b,c,f){f.$=d.empty;if(!a.isValue(b))throw new M("uuid");if(!c){var e=/^[{(]?([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})[)}]?$/ig.exec(b);if(e){f.$=e.slice(1).join("-").toLowerCase();return true}}else{if(c==="N"){var e=d.$split.exec(b);if(!e)return false;b=e.slice(1).join("-")}else if(c==="B"||c==="P"){var g=c==="B";if(b[0]!==(g?"{":"(")||b[b.length-1]!==(g?"}":")"))return false;b=b.substr(1,b.length-2)}if(b.match(d.$valid)){f.$=b.toLowerCase();return true}}return false};d.format=function(a,b){switch(b){case"N":return a.replace(/-/g,"");case"B":return"{"+a+"}";case"P":return"("+a+")";default:return a}};d.fromBytes=function(b){if(!b||b.length!==16)throw new e("b","Must be 16 bytes");var c=b.map(function(b){return a.formatNumber(b&255,"x2")}).join("");return d.$split.exec(c).slice(1).join("-")};d.newGuid=function(){var a=Array(16);d.$rng.nextBytes(a);a[6]=a[6]&15|64;a[8]=a[8]&191|128;return d.fromBytes(a)};d.getBytes=function(c){for(var b=Array(16),d=c.replace(/-/g,""),a=0;a<16;a++)b[a]=parseInt(d.substr(a*2,2),16);return b};if(k.ss){for(var gb in a)if(a.hasOwnProperty(gb))k.ss[gb]=a[gb]}else k.ss=a})(global)